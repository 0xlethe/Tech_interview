# 21.01.17

## 주요 질문

#### 💡 [인덱스란?](#인덱스index)
   * 책의 목차처럼 지정한 칼럼을 정렬하여 데이터를 쉽게 찾을 수 있도록 만든 테이블입니다.
   
#### 💡 [인덱스 구조는?](#인덱스-구조)
   * 해쉬테이블과 B+Tree 구조가 있습니다. 해쉬테이블은 키 값에 해쉬함수를 적용하여 나온 주소값과 매칭하는 기법입니다. 하지만 부등호 연산이 많은 db에는 효과적이지 않은 방법입니다. B+Tree는 LinkedList로 연결된 구조입니다. 연결된 노드를 따라가면서 일치하는 값으로 가서 읽고 일치하지 않는 값이 나오면 즉시 중지합니다. B+Tree는 부등호 연산에 효율적입니다.
  
#### 💡 [Index는 어디에 사용하는게 좋나요?](#인덱스를-사용하면-좋은-테이블)
  * 연산이 거의 없고 검색을 많이 하는 테이블에 사용하면 좋고 칼럼의 중복도가 낮은 곳에 사용하면 좋습니다.

#### 💡 중복도가 높은 칼럼 예시 하나만 들어주세요.
  * 성별입니다. 사람은 여자, 남자밖에 없어서 최악의 경우 full scan을 해야합니다. 이 경우 인덱스를 설정하지 않는 것이 좋습니다.

#### 💡 [인덱스를 따로 설정하지 않으면 어떻게 되는가?](#인덱스index)
   * 인덱스를 설정하지 않아도 기본적으로 PK값이 인덱스로 설정되어 있습니다.
   
#### 💡 [속도를 위해 모든 칼럼에 인덱스를 넣으면 되지 않는가?](#인덱스index)
   * 인덱스는 인덱스 설정된 칼럼을 추가 저장 공간에 저장하고 재정렬해서 사용합니다. 그렇기 때문에 모든 칼럼에 인덱스를 넣게 되면 저장 공간을 많이 차지하게 됩니다. 또한, 데이터를 재정렬하기 때문에 삽입, 삭제, 갱신이 발생하게 되면 인덱스 테이블은 이 데이터에 대해 재정렬을 다시 수행해야하므로 오히려 성능 저하로 이어지게 됩니다.
   

<br/>

## ⭐ 개념 정리

### 인덱스(Index)
    > CREATE INDEX 인덱스명 ON 테이블명(칼럼명)
   * 책의 목차와 같은 개념
   * 추가 저장 공간에 인덱스 테이블을 생성하고 데이터 정렬해서 사용
   * 검색 속도 향상
   * 인덱스를 설정하지 않은 경우, 기본적으로 PK값이 인덱스로 사용
          

<br/>

### 인덱스를 사용하면 좋은 테이블  
   * 규모가 작지 않은 테이블
   * 삽입, 삭제, 갱신이 자주 발생하지 않는 테이블
   * 데이터 중복도가 낮은 칼럼
   

<br/>

### 인덱스 구조
   * 해쉬테이블  
   ![image](https://user-images.githubusercontent.com/36289638/104845473-081b6680-5919-11eb-9f7c-8d9acc1d90e7.png)


        * 해쉬함수에 의해 값이 주소값에 매핑된다.
        * equal 관계에서는 효율적이지만, 범위 연산이 많은 DB 연산에서는 비효율적

<br/>

   * B+Tree  
   ![image](https://user-images.githubusercontent.com/36289638/104845458-f639c380-5918-11eb-8f54-93059b90bd3f.png)

        * LinkedList로 연결
        * 일치하지 않는 값이 나오면 탐색을 중지
        * 만약 위의 그림에서 52번이 9번 블록 끝까지 있다면 10번 노드도 탐색

<br/>

<details>
    <summary>출처</summary>
    <p>http://wiki.gurubee.net/pages/viewpage.action?pageId=29065492</p>
</details>

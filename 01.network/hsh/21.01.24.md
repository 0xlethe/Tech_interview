# 21.01.24

## 주요 질문
   
#### 💡 Internet이란?
   * TCP/IP 기반의 네트워크가 전세계적으로 확대되어 하나의 연결된 네트워크들의 네트워크 (네트워크의 결합체)
   * 인터넷 != WWW(World Wide Web) : 인터넷 기반의 대표 서비스 중 하나가 www라고 할 수 있다. 
   * HTTP는 인터넷 기반의 서비스인 웹 서비스에 사용하는 프로토콜이라 할 수 있다.

#### 💡 [HTTP](#httphyper-text-transfer-protocol)에 대해 설명하시오.
   * HTTP(Hyper Text Transfer Protocol)란 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로토콜이다.
   * HTTP는 애플리케이션 레벨의 프로토콜로 TCP/IP 위에서 작동한다. HTTP는 상태를 가지고 있지 않는 Stateless 프로토콜이며 Method, Path, Version, Headers, Body 등으로 구성된다.
   <img src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbkdJ4Q%2FbtqK6AXLEtC%2FjBZzMuJBWzdLYmqILo5Ri1%2Fimg.png">

#### 💡 [HTTP](#httphyper-text-transfer-protocol) 와 [HTTPS](#httpshttp-secure) 차이
   * HTTPS는 HTTP에 데이터 암호화가 추가된 프로토콜이다. HTTPS는 HTTP(80)와 다르게 433번 포트를 사용하며, 네트워크 상에서 중간에 제3자가 정보를 볼 수 없도록 공개키 암호화를 지원하고 있다.
   * 개인 정보와 같은 민감한 데이터를 주고 받아야 한다면 HTTPS를 이용해야 하지만, 단순한 정보 조회 등만을 처리하고 있다면 HTTP를 이용하면 된다. 

#### 💡 URL (Uniform Resource Locator)란
   * 인터넷 상의 자원의 위치, 특정 웹 서버의 특정 파일에 접근하기 위한 경로 혹은 주소

#### 💡 [쿠키(Cookie)와 세션(Session)에 대해 설명하시오.](#쿠키cookie--세션session)
   * HTTP의 비연결성과 비상태성을 보완하여 서버가 클라이언트를 식별하게 해주기 위한 데이터
   * 쿠키와 세션은 비슷한 역할을 하며, 동작원리도 비슷합니다. 그 이유는 세션도 결국 쿠키를 사용하기 때문입니다. 가장 큰 차이점은 사용자의 정보가 저장되는 위치입니다. 때문에 쿠키는 서버의 자원을 전혀 사용하지 않으며, 세션은 서버의 자원을 사용합니다.

#### 💡 [세션을 사용하면 좋은데 왜 쿠키를 사용할까?](#쿠키cookie--세션session)
   * 세션은 서버의 자원을 사용하기때문에 무분별하게 만들다보면 서버의 메모리가 감당할 수 없어질 수가 있고 속도가 느려질 수 있기 때문이다.

<br/>

## 심화 질문
   
#### URL과 URI의 차이
   * URI (Uniform Resource Identifier)
      * 요청하는 자원의 식별자 (규약)
      * 자원을 고유하게 식별하고 위치를 지정할 수 있다.
      * URI의 하위 개념으로 URL이 포함된다. 즉, URI > URL
   * URL (Uniform Resource Locator)
      * 특정 웹 서버의 특정 자원에 대한 구체적인 위치 (규약의 형태)
      * 자원의 정확한 위치와 접근하기 위한 방법을 알려준다.
   * Ex) URL 이면서 URI인 경우
      * https://hsh0321.github.io/tags.html
      * 자원의 고유한 식별자이면서 구체적인 위치를 명시한 형태
   * Ex) URL이 아니면서 URI인 경우
      * https://hsh0321.github.io/posts/132
      * https://hsh0321.github.io/list?page=2
        * URL: https://hsh0321.github.io/list
        * URI: URL + ?page=2
   * 자원에 접근할 수 있는 위치는 https://gmlwjd9405.github.io/list이며, 이를 URL이라고 할 수 있다.
   * 하지만 원하는 자원을 얻기 위해서는 추가적인 식별자인 page=2가 필요하고 이를 포함한 내용까지가 URI라고 할 수 있다.
<br/>



#### 쿠키/세션과 캐시의 차이점
   * 쿠키/세션은 캐시와 엄연히 다르다!
      * 캐시는 이미지나 css, js파일 등을 브라우저나 서버 앞 단에 저장해놓고 사용하는 것이다.
      * 한번 캐시에 저장되면 브라우저를 참고하기 때문에 서버에서 변경이 되어도 사용자는 변경되지 않게 보일 수 있는데 이런 부분을 캐시를 지워주거나 서버에서 클라이언트로 응답을 보낼 때 header에 캐시 만료시간을 명시하는 방법등을 이용할 수 있다.
      * 보통 쿠키와 세션의 차이를 물어볼 때 저장위치와 보안에 대해서는 잘 말하는데 사실 중요한 것은 라이프사이클을 얘기하는 것이다.


## 개념 정리



### HTTP(Hyper Text Transfer Protocol)
   * 클라이언트 -> 요청 -> 서버 -> 응답 -> 클라이언트
      <img src = "https://t1.daumcdn.net/cfile/tistory/992FEF435AE6B82702">
   * 특징
      * 비연결 지향(Connectionless)
         * 클라이언트가 request를 서버에 보내고, 서버가 클라이언트에 요청에 맞는 response를 보내면 바로 연결을 끊는다.
      * 무상태(Stateless)
         * **연결을 끊는 순간 클라이언트와 서버의 통신은 끝나며 상태 정보를 유지하지 않는다.**
   * 장점
      * 불특정 다수를 대상으로 하는 서비스에는 적합하다.
        * 클라이언트와 서버가 계속 연결된 형태가 아니기 때문에 클라이언트와 서버 간의 최대 연결 수보다 훨씬 많은 요청과 응답을 처리할 수 있다.
   * 단점
      * 연결을 끊어버리기 때문에, 클라이언트의 이전 상황을 알 수가 없다.
      * 이러한 특징을 무상태(Stateless)라고 말한다.
      * 이러한 특징 때문에 정보를 유지하기 위해서 Cookie와 같은 기술이 등장하게 되었다.
 
   * [메세지 형식 및 메소드](https://gmlwjd9405.github.io/2019/04/17/what-is-http-protocol.html)

   <details markdown="1">
      <summary>출처</summary>
      [1] : https://gmlwjd9405.github.io/2019/04/17/what-is-http-protocol.html
  </details>




### HTTPS(HTTP Secure)
   * [ 공개키/개인키 ]
      * HTTPS는 공개키/개인키 암호화 방식을 이용해 데이터를 암호화하고 있다. 공개키와 개인키는 서로를 위한 1쌍의 키이다.
         * 공개키: 모두에게 공개가능한 키
         * 개인키: 나만 가지고 알고 있어야 하는 키
         
      * 공개키와 개인키로 암호화하면 다음과 같은 효과를 얻을 수 있다.
         * 공개키 암호화: 공개키로 암호화를 하면 개인키로만 복호화할 수 있다. -> 개인키는 나만 가지고 있으므로, 나만 볼 수 있다. 
         * 개인키 암호화: 개인키로 암호화하면 공개키로만 복호화할 수 있다. -> 공개키는 모두에게 공개되어 있으므로, 내가 인증한 정보임을 알려 신뢰성을 보장할 수 있다.
      <img src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FOKcog%2FbtqK71fM8a4%2Fg1HmcDOR7MVRRz7pSKKJWk%2Fimg.png">

   * [ HTTPS의 동작 과정 ]
      * HTTPS는 SSL과 같은 프로토콜을 사용하여 공개키/개인키 기반으로 데이터를 암호화하고 있다. 데이터는 암호화되어 전송되기 때문에 임의의 사용자가 데이터를 조회하여도 원본의 데이터를 보는 것은 불가능하다.

      * 그렇다면 이제 서버는 클라이언트가 요청을 보낼 때 암호화를 하기 위한 공개키를 생성해야 하는데, 일반적으로는 인증된 기관(Certificate Authority) 에 공개키를 전송하여 인증서를 발급받고 있다. 자세한 과정은 다음과 같다.
         1. A기업은 HTTP 기반의 애플리케이션에 HTTPS를 적용하기 위해 공개키/개인키를 발급함
         2. CA 기업에게 돈을 지불하고, 공개키를 저장하는 인증서의 발급을 요청함
         3. CA 기업은 CA기업의 이름, 서버의 공개키, 서버의 정보 등을 기반으로 인증서를 생성하고, CA 기업의 개인키로 암호화하여 A기업에게 이를 제공함
         4. A기업은 클라이언트에게 암호화된 인증서를 제공함
         5. 브라우저는 CA기업의 공개키를 미리 다운받아 갖고 있어, 암호화된 인증서를 복호화함
         6. 암호화된 인증서를 복호화하여 얻은 A기업의 공개키로 데이터를 암호화하여 요청을 전송함
      <img src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FWwmv2%2FbtqK6BvBV14%2FG8jN22KQFvylWL9Tak8CVk%2Fimg.png">

   * 암호호화된 인증서는 CA의 개인키로 암호화되었기 때문에, 신뢰성을 확보할 수 있고, 클라이언트는 A 기업의 공개키로 데이터를 암호화하였기 때문에 A기업만 복호화하여 원본의 데이터를 얻을 수 있다.
   * HTTPS는 이러한 공개키/개인키 기반의 대칭키 암호화 방식을 활용하여 안전성을 확보하고 있다.

### 쿠키(Cookie) & 세션(Session)
   * [쿠키] 
     * HTTP의 일종으로 사용자가 어떠한 웹 사이트를 방문할 경우, 그 사이트가 사용하고 있는 서버에서 사용자의 컴퓨터에 저장하는 작은 기록 정보 파일이다.
     * HTTP에서 클라이언트의 상태 정보를 클라이언트의 PC에 저장하였다가 필요시 정보를 참조하거나 재사용할 수 있다.

     * 쿠키 특징
        1. 이름, 값, 만료일(저장 기간 설정), 경로 정보로 구성되어 있다.
        2. 클라이언트에 총 300개의 쿠키를 저장할 수 있다.
        3. 하나의 도메인 당 20개의 쿠키를 가질 수 있다
        4. 하나의 쿠키는 4KB(=4096byte)까지 저장 가능하다.

     * 쿠키의 동작 순서
       1. 클라이언트가 페이지를 요청한다. (사용자가 웹사이트 접근)
       2. 웹 서버는 쿠키를 생성한다.
       3. 생성한 쿠키에 정보를 담아 HTTP 화면을 돌려줄 때, 같이 클라이언트에게 돌려준다.
       4. 넘겨 받은 쿠키는 클라이언트가 가지고 있다가(로컬 PC에 저장) 다시 서버에 요청할 때 요청과 함께 쿠키를 전송한다.
       5. 동일 사이트 재방문시 클라이언트의 PC에 해당 쿠키가 있는 경우, 요청 페이지와 함께 쿠키를 전송한다.

     * 사용 예시
       * 방문했던 사이트에 다시 방문 하였을 때 아이디와 비밀번호 자동 입력
       * 팝업창을 통해 "오늘 이 창을 다시 보지 않기" 체크

 *  [세션]
      *  일정 시간동안 같은 사용자(브라우저)로부터 들어오는 일련의 요구를 하나의 상태로 보고, 그 상태를 일정하게 유지시키는 기술이다.
      * 여기서 일정 시간은 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저를 종료하여 연결을 끝내는 시점을 말한다.
      * 즉, 방문자가 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 그것을 세션이라고 한다.

      * 세션 특징
        1. 웹 서버에 웹 컨테이너의 상태를 유지하기 위한 정보를 저장한다.
        2. 웹 서버의 저장되는 쿠키(=세션 쿠키)
        3. 브라우저를 닫거나, 서버에서 세션을 삭제했을때만 삭제가 되므로, 쿠키보다 비교적 보안이 좋다.
        4. 저장 데이터에 제한이 없다.(서버 용량이 허용하는 한...)
        5. 각 클라이언트 고유 Session ID를 부여한다. Session ID로 클라이언트를 구분하여 각 클라이언트 요구에 맞는 서비스 제공

      * 세션의 동작 순서
        1. 클라이언트가 페이지를 요청한다. (사용자가 웹사이트 접근)
        2. 서버는 접근한 클라이언트의 Request-Header 필드인 Cookie를 확인하여, ㅠ클라이언트가 해당 session-id를 보냈는지 확인한다.
        3. session-id가 존재하지 않는다면, 서버는 session-id를 생성해 클라이언트에게 돌려준다.
        4. 서버에서 클라이언트로 돌려준 session-id를 쿠키를 사용해 서버에 저장한다. 쿠키 이름 : JSESSIONID
        5. 클라이언트는 재접속 시, 이 쿠키(JSESSIONID)를 이용하여 session-id 값을 서버에 전달

      * 사용 예시
         * 화면이 이동해도 로그인이 풀리지 않고 로그아웃하기 전까지 유지


         ||쿠키(Cookie)|세션(Session)|
         |-|-|-|
         |저장 위치|클라이언트(=접속자 PC)|웹 서버|
         |저장 형식|text|Object|
         |만료 시점|쿠키 저장시 설정 (브라우저가 종료되도, 만료시점이 지나지 않으면 자동삭제되지 않음)|브라우저 종료시 삭제 (기간 지정 가능)|
         |사용하는 자원|클라이언트 리소스|웹 서버 리소스|
         |용량 제한|총 300개</br>하나의 도메인 당 20개</br>하나의 쿠키 당 4KB(=4096byte)|서버가 허용하는 한 용량제한 없음.|
         |속도|세션보다 빠름|쿠키보다 느림|
         |보안|세션보다 안좋음|쿠키보다 좋음|





<br/>

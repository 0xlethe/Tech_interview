# 운영체제 2일차

### 프로세스 상태

![%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%202%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20bb9c21e79f96449a8a48a02ac76c5c60/Untitled.png](%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%202%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8E%E1%85%A1%20bb9c21e79f96449a8a48a02ac76c5c60/Untitled.png)

- **New** : 메모리에 프로세스가 올라간 상태를 말합니다. 즉, PCB를 획득한 것입니다.
- Ready : 프로세스가 프로세서를 할당받기 위해 기다리고 있는 상태 프로세스는 준비상태 큐(스케줄링 큐)에서 실행을 준비하고 있으며 접수 상태에서 준비 상태로의 전이는 Job 스케줄러에 의해 수행된다.
- Running : 준비상태 큐에 있는 프로세스가 프로세서를 할당받아 실행되는 상태이며 프로세스 수행이 완료되기 전에 프로세스에게 주어진 프로세서 할당 시간이 종료 되면 프로세스는 준비상태로 전환됩니다.
- Waiting : 프로세스에 입출력 처리가 필요하면 현재 실행중인 프로세스가 중단되고, 입출력 처리가 완료될때까지 대기하고 있는 상태입니다.
- Terminated : 작업이 완료됨 PCB가 사라진 상태

```jsx
Dispatch : 준비 상태에서 대기하고 있는 프로세스 중 하나가 프로세서를 할당받아 실행 상태로 전이되는 과정
Timeout (Interrupt) : 주어진 타임 슬라이스 동안 수행 완료되지 않은 프로세스가 준비 상태로 돌아가는 것
Process Control Block : 프로세스 처리와 관련된 정보가 들어있는 블록
Event Wait (running -> waiting) : I/O 입출력 발생 (CPU 사용 중 I/O 행위가 필요하며 대기 상태로 이동)
Wake-Up (waiting ->ready) : I/O 요청이 완료되면 다시 ready 상태로 전이
```

### Context Switching

기존 프로세스의 상태나 레지스터의 값을 저장하고 다음 프로세스를 실행할 수 있도록 새로운 프로세스의 상태나 레지스터의 값을 교체하는 작업입니다.

### 스케줄링

여러 **프로세스**가 생성되어 실행될 때 자원이 필요합니다. 스케줄링이란 **운영체제가 제한된 자원**을 **어떤 프로세스부터 자원을 할당해줄지 결정하는** **작업**을 말합니다.

### 스케줄러

- **장기스케줄러** ( new → ready )

    어떤 프로세스에게 어떤 리소스를 할당할지 결정하는 스케줄러입니다.

- **단기스케줄러** ( ready → running → waiting → ready)

    ready queue에 있는 프로세스 중 어떤 프로세스를 running 시킬지 결정하는 스케줄러입니다.

- **중기스케줄러** (ready → suspended)

    실행 중인 프로세스의 수 제어하는 스케줄러입니다. 메모리 공간을 위해 프로세스를 통째로 메모리에서 디스크에 swapping을 진행합니다.

### CPU 스케줄러

### 비선점(Non-preemptive) 스케줄링

하나의 프로세스가 CPU를 할당받아 실행하고 있을 때 우선순위가 높은 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 스케줄링 기법입니다.

비선점 스케줄링의 **장점**은 **빠르게 우선순위가 높은 프로세스를 처리**할 수 있다는 것입니다.

비선점 스케줄링의 **단점**은 ****우선순위가 높은 프로세스가 생길 때마다 문맥교환이 일어나므로 오버헤드가 크다.

- **FCFS**

    **ready queue에 도착 순서에 따라 프로세스에게 자원 할당**

    장점

    처리중인 프로세스에게 할당된 시간을 타 프로세스가 뺏지 않으므로 **문맥 교환이 일어나지 않아** 오버헤드 발생하지 

    단점

    평균 응답시간이 길어질 수 있음

- **SJF**

    **실행시간이 가장 짧은 프로세스**에 먼저 자원 할당

    장점

    - 평균 대기 시간 최소화
    - 시스템 내의 대기 프로세스 수 최소화
    - 많은 프로세스들에게 바른 응답 시간 제공

    단점

    - 기아 현상, 한 프로세스를 처리하지 못하고 계속 연기되는 현상 발생 가능

        → **에이징** 기법으로 해결

### 선점 스케줄링

이미 할당된 CPU를 다른 프로세스가 **강제로 빼앗아 사용할 수 없는** 스케줄 기법입니다.

선점 스케줄링의 장점은 프로세스 응답 시간을 예측하기 쉽다.

선점 스케줄링의 단점은 중요한 작업(짧은 작업)이 중요하지 않은 작업(긴 작업)을 기다리는 경우가 발생합니다.

- **SRT**

    현재 실행 중인 프로세스의 남은 시간과 readt queue에 프로세스의 실행시간이 가장 짧은 프로세스에게 자원을 할당

    단점

    - 프로세스 생성 시 총 실행 시간 추정 작업 필요
    - 잦은 선점으로 문맥 교환/오버헤드가 증가
    - 실행 시간이 긴 프로세스들의 평균 응답 시간 길어짐
- **Priority Scheduling**

    ready queue에서 우선순위가 가장 높은 프로세스에게 먼저 자원 할당

    단점

    - 우선순위가 낮은 프로세스는 무기한 대기 현상이 일어남

        → **에이징** 기법으로 해결

- **RR (Round Robin)**

    FCFS의 선점 형태

    장점

    - 각 프로세스에 대한 응답 시간이 짧음
    - 대화형 시스템에 적합

    단점

    시간이 작을 경우 문맥교환 및 오버헤드가 자주 발생 가능
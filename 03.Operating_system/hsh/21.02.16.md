# 21.02.16

## 주요 질문

#### 💡 스케줄링이란 무엇이고 스케줄러의 종류에 대해 설명하시오.
 * 스케줄링은 프로세스가 생성되어 실행될때 필요한 시스템의 여러자원을 해당 프로세스에게 할당하는 작업을 의미합니다. 스케줄링은 CPU나 자원을 효율적으로 사용하기 위한 목적으로 사용 됩니다.
 * 스케줄링의 종류에는 장기 스케줄링, 중기 스케줄링, 단기 스케줄링이 있습니다.
## 심화 질문

#### 💡 
<br/>

## 개념 정리

  > https://klkl0.tistory.com/2 CPU RAM HDD 설명

### ⭐ PCB(Process Control Block)
  * 운영체제가 프로세스를 제어하기 위해 정보를 저장해 놓는 곳으로, 프로세스의 상태 정보를 저장하는 구조체이다.
  * PCB는 프로세스 생성 시 만들어지며 주기억장치에 유지된다.
  * 프로세스들이 교체되어 수행되고 나면 다시 다른 프로세스를 불러와야 하는데,
이 말은 이전 작업에 대한 내용을 기억하고 있는데, 프로세스 단위로 정보를 저장해주는 BLOCK이 있는데 이게 바로 PCB입니다.
    > https://jhnyang.tistory.com/33

### ⭐ Context Switching
  * Context Switching 이란 CPU가 이전의 프로세스 상태를 PCB에 보관하고, 또 다른 프로세스의 정보를 PCB에서 읽어 레지스터에 적재하는 과정을 말합니다.
  * 프로세스가 준비 -> 실행, 실행 -> 준비, 실행 -> 대기 등으로 상태 변경될 때 발생합니다.

### ⭐ 스케줄러
  * Ready Queue에 존재하는 프로세스들을 특정한 우선순위를 기반으로 CPU를 할당받게 하는 역할
  * 프로세스가 생성되어 완료될때까지 프로세스는 여러 종류의 스케줄링 과정을 거침
  * 프로세스를 스케줄링하기 위한 큐의 종류
    * Job Queue : 현재 시스템 내에 있는 모든 프로세스의 집합
    * Ready Queue : 현재 메모리 내에 있으면서 CPU를 할당 받기를 기다리는 프로세스의 집합
    * Device Queue : Device I/O 작업을 대기하고 있는 프로세스 집합
    #### 각각의 Queue 에 프로세스들을 넣고 빼주는 스케줄러에도 크게 세 가지 종류가 존재한다.
  * 장기 스케줄러
    * 메모리와 디스크 사이의 스케줄 담당.
    * 어떤 프로세스에 각종 리소스를 할당할지를 결정
    * 실행 중인 프로세스의 수 제어

  * 단기 스케줄러
    * CPU와 메모리 사이의 스케줄을 담당
    * Ready Q에 있는 프로세스 중 어떤 프로세스를 Running 시킬지 결정
    * 프로세스에 CPU 할당 (dispatch)

  * 중기 스케줄러
    * 여유 공간 마련을 위해 프로세스를 통째로 메모리에서 디스크로 쫓아냄 (swapping)
    * 메모리를 deallocate
    * 실행 중인 프로세스의 수 제어
    * 메모리에 너무 많은 프로그램이 동시에 올라가는 것을 조절.

* 프로세스는 아래 5가지의 상태 중 하나를 가진다.
    * 생성(create): 프로세스가 생성되는 중이다.
    * 실행(running): 프로세스가 프로세서를 차지하여 명령어들이 실행되고 있다.
    * 준비(ready): 프로세스가 프로세서를 사용하고 있지는 않지만 언제든지 사용할 수 있는 상태로, CPU가 할당되기를 기다리고 있다.
    * 대기(waiting): 프로세스가 입출력 완료, 시그널 수신 등 어떤 사건을 기다리고 있는 상태를 말한다.
    * 종료(terminated): 프로세스의 실행이 종료되었다.

    > https://kmseop.tistory.com/119

    > https://velog.io/@hax0r/선점비선점-프로세스-스케줄링

### ⭐ 프로세서 스케줄링 기법
  * 프로세서 스케줄링의 기법에는 크게 아래와 같이 선점(preemptive)/비선점(non-preemptive) 형태가 있다.
    
    ### 비선점 스케줄링 기법
    ---
    * 비선점(non-preemptive) 은 이미 할당된 CPU 를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 스케줄링 기법이다.
    #### FCFS(First Come First Served)
    - 대기 큐에 도착한 순서에 따라 CPU를 할당한다.
    - 일단 프로세스가 CPU를 차지하면 완료될 때까지 수행한다.
    - 긴 작업이 짧은 작업을 오랫 동안 기다릴 수 있으며, 중요하지 않은 작업이 중요한 작업을 기다리게 할 가능성이 존재한다.
    - 대화식 Real time 시스템에는 부적합햐다.

    #### SJF(Shortest - Job - First) or SPN(Shortest Process Next)
    - 준비 큐에서 기다리고 있는 프로세스 중에서 가장 **CPU 요구량이 적은 것**을 먼저 실행시켜 주는 방식이다.
    - 평균 응답 시간을 최소화할 수 있으나, 실행 시간이 긴 프로세스가 CPU를 할당받지 못하고 계속해서 대기하는 무한 대기 현상이 발생할 수 있다.

    ### 선점 스케줄링 기법
    ---
    * 선점(preemptive) 은 CPU 사용권을 선점 한다고 생각하면 이해가 쉽다. 특정 요건에 따라 각 프로세스의 요청이 있을 때 프로세스에게 분배하는 방식이다.

    #### 라운드 로빈(Round-Robin/RR) 스케줄링
    - FCFS 스케줄링을 기반으로 하여 CPU를 할당하되, 각 프로세스는 한 번에 쓸 수 있는 CPU 시간 크기(시간 할당량)이 지나면 시간 종료 인터럽트에 의해 CPU를 뺏기게 되는 방식이다.
    - 주로 우선순위 스케줄링(Priority scheduling)과 결합해 프로세스의 시간 할당량을 조절하는 방식으로 활용한다.
    -  FCFS에서 프로세스 하나가 CPU를 독점하는 단점을 방지하지만 Context Switch의 오버헤드를 감수해야한다.
  
    #### SRT(Shortest Remaining Time) 스케줄링
    - 준비 큐에서 완료까지 남은 CPU 요구량이 가장 짧은 것을 먼저 실행시켜주는 방식이다. 
    - 실행 도중 남은 실행 시간이 더 적은 프로세스가 준비 큐에 들어올 경우, 현재 실행 중인 것을 중단하고 새 프로세스에게 CPU를 할당한다.
    > https://jhnyang.tistory.com/34

    > https://velog.io/@hax0r/선점비선점-프로세스-스케줄링 -> 정리 깔끔함

++) 레지스터란?
